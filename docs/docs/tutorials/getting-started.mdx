---
title: Getting Started with infrahubops
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

This tutorial walks you through your first experience with `infrahubops`, teaching you the fundamentals by creating a backup of your Infrahub instance and then restoring it. By the end of this tutorial, you'll understand the basic workflow and be confident in using the tool for essential maintenance tasks.

## What you'll learn

In this tutorial, you'll:

- Install infrahubops on your system
- Detect your Infrahub deployment environment
- Create your first backup
- Verify the backup was successful
- Restore from the backup you created

## Prerequisites

Before starting this tutorial, ensure you have:

- A running Infrahub instance (using Docker Compose)
- Docker installed and running on your system
- Terminal access with sudo privileges
- At least 1GB of free disk space for backups

## Step 1: Install infrahubops

First, download and install the infrahubops binary for your operating system.

```bash
# Download the binary for your architecture
curl https://infrahub.opsmill.io/ops/$(uname -s)/$(uname -m) -o infrahubops

# Make it executable
chmod +x infrahubops

# Verify installation
./infrahubops version
```

You should see output similar to:

```bash
infrahubops version 1.0.0
```

## Step 2: Detect your environment

Before performing any operations, verify that infrahubops can detect your Infrahub deployment:

```bash
./infrahubops environment detect
```

Expected output:

```bash
INFO[0000] Detecting deployment environment...
INFO[0000] Docker environment detected
INFO[0000] Found Docker Compose project: infrahub-demo
```

If you have multiple Infrahub projects, list them all:

```bash
./infrahubops environment list
```

This shows all available Docker Compose projects running Infrahub.

## Step 3: Create your first backup

Now, let's create a backup of your Infrahub instance. This operation will:

1. Check for running tasks
2. Stop application containers safely
3. Backup the Neo4j database
4. Backup the PostgreSQL task manager database
5. Create a compressed archive

Run the backup command:

```bash
./infrahubops backup create
```

You'll see detailed progress output:

```bash
INFO[0000] Starting backup process...
INFO[0000] Checking for running tasks...
INFO[0001] No running tasks found
INFO[0001] Stopping Infrahub application containers...
INFO[0002] Stopping infrahub-server...
INFO[0003] Stopping task-worker...
INFO[0004] Application containers stopped
INFO[0004] Backing up Neo4j database...
INFO[0010] Neo4j backup completed
INFO[0010] Backing up PostgreSQL database...
INFO[0012] PostgreSQL backup completed
INFO[0012] Creating backup archive...
INFO[0015] Backup created successfully: infrahub_backups/infrahub_backup_20250929_143022.tar.gz
INFO[0015] Starting application containers...
INFO[0020] Backup process completed
```

:::note
The backup file is stored in the `infrahub_backups` directory by default. Note the filename for the restore step.
:::

## Step 4: Verify your backup

Check that your backup was created successfully:

```bash
# List backup files
ls -lh infrahub_backups/

# View backup contents (without extracting)
tar -tzf infrahub_backups/infrahub_backup_*.tar.gz | head -10
```

You should see:

- A `.tar.gz` file with today's timestamp
- Inside the archive: `metadata.json`, database files, and other components

## Step 5: Restore from backup

To complete the learning cycle, let's restore from the backup you just created. This simulates recovering from a disaster or rolling back changes.

:::warning
Restoring will replace all current data in your Infrahub instance. In a production environment, always verify you have a current backup before restoring an older one.
:::

```bash
# Replace with your actual backup filename
./infrahubops backup restore infrahub_backups/infrahub_backup_20250929_143022.tar.gz
```

The restore process will:

1. Validate the backup file
2. Stop all containers
3. Restore the Neo4j database
4. Restore the PostgreSQL database
5. Restart all services

Expected output:

```bash
INFO[0000] Starting restore process...
INFO[0000] Validating backup file...
INFO[0001] Backup validation successful
INFO[0001] Stopping all containers...
INFO[0005] Restoring Neo4j database...
INFO[0015] Neo4j restore completed
INFO[0015] Restoring PostgreSQL database...
INFO[0018] PostgreSQL restore completed
INFO[0018] Starting all containers...
INFO[0025] Restore completed successfully
```

## Step 6: Verify the restore

Confirm your Infrahub instance is running correctly:

```bash
# Check container status
docker compose ps

# Test Infrahub connectivity (adjust URL as needed)
curl -I http://localhost:8080
```

All containers should be in the "Up" state, and the HTTP request should return a successful response.

## What you've learned

Congratulations! You've completed your first backup and restore cycle with infrahubops. You now know how to:

- Install and verify infrahubops
- Detect your deployment environment
- Create comprehensive backups of your Infrahub instance
- Restore from a backup file
- Verify successful operations

## Next steps

Now that you understand the basics, explore:

- [How to backup your Infrahub instance](../guides/backup-instance.mdx)
- [How to restore from backup](../guides/restore-backup.mdx)

## Troubleshooting

If you encounter issues:

**Permission denied when running commands:**

- Ensure your user has Docker permissions: `sudo usermod -aG docker $USER`
- Log out and back in for changes to take effect

**Cannot detect environment:**

- Verify Docker is running: `docker ps`
- Check Docker Compose is installed: `docker compose version`

**Backup fails with "running tasks detected":**

- Wait for tasks to complete, or use `--force` flag to proceed anyway
- Check task status in Infrahub UI
