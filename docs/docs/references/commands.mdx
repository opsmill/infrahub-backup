---
title: Infrahub Ops CLI Commands
---

The operational tooling is split into dedicated binaries. The following commands are available:

### `infrahub-backup`

- `infrahub-backup create [--force] [--neo4jmetadata=all|none|users|roles]`
	- Create a backup of the Infrahub instance.
- `infrahub-backup restore <backup-file>`
	- Restore Infrahub from a backup archive.
- `infrahub-backup environment detect`
	- Detect the current deployment environment (Docker/k8s).
- `infrahub-backup environment list`
	- List Infrahub Docker Compose projects and Kubernetes namespaces.
- `infrahub-backup version`
	- Print Infrahub Ops CLI build information.

### `infrahub-taskmanager`

- `infrahub-taskmanager flush flow-runs [days_to_keep] [batch_size]`
	- Delete completed/failed/cancelled flow runs older than the retention period (default: 30 days, batch size 200).
- `infrahub-taskmanager flush stale-runs [days_to_keep] [batch_size]`
	- Cancel running flow runs older than the retention period (default: 2 days, batch size 200).
- `infrahub-taskmanager environment detect`
	- Detect the current deployment environment (Docker/k8s).
- `infrahub-taskmanager environment list`
	- List Infrahub Docker Compose projects and Kubernetes namespaces.
- `infrahub-taskmanager version`
	- Print Infrahub Ops CLI build information.

#### Shared flags

Each binary accepts the same global options:

- `--project <name>`: Target a specific Docker Compose project.
- `--k8s-namespace <name>`: Target a specific Kubernetes namespace.
- `--backup-dir <path>`: Set the backup directory (where applicable).
- `--log-format <text|json>`: Set log output format.

